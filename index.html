 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberTracker Pro - Multi-Source Location Intelligence</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        :root {
            --primary: #6366f1;
            --secondary: #8b5cf6;
            --danger: #ef4444;
            --success: #10b981;
            --warning: #f59e0b;
            --dark: #1f2937;
            --light: #f9fafb;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            min-height: 100vh;
            color: #e2e8f0;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 25px;
            background: rgba(30, 41, 59, 0.8);
            border-radius: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(148, 163, 184, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        h1 {
            color: white;
            margin-bottom: 10px;
            font-size: 2.8rem;
            background: linear-gradient(to right, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: #94a3b8;
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
        }

        @media (min-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr 1.5fr;
            }
        }

        .panel {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(148, 163, 184, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        h2 {
            color: white;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(99, 102, 241, 0.3);
            font-size: 1.5rem;
        }

        h3 {
            color: #cbd5e1;
            margin: 15px 0 10px;
            font-size: 1.1rem;
        }

        .tracking-methods {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .method-card {
            background: rgba(15, 23, 42, 0.7);
            border-radius: 15px;
            padding: 20px;
            border-left: 4px solid var(--primary);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .method-card:hover {
            transform: translateY(-3px);
            background: rgba(15, 23, 42, 0.9);
            border-left-color: var(--success);
        }

        .method-card.active {
            border-left-color: var(--success);
            background: rgba(15, 23, 42, 0.9);
        }

        .method-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .method-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .ip-icon { background: linear-gradient(135deg, #6366f1, #8b5cf6); }
        .phone-icon { background: linear-gradient(135deg, #10b981, #059669); }
        .imei-icon { background: linear-gradient(135deg, #f59e0b, #d97706); }
        .link-icon { background: linear-gradient(135deg, #ec4899, #db2777); }

        .method-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: white;
        }

        .method-desc {
            color: #94a3b8;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .input-group {
            margin: 20px 0;
        }

        input, select {
            width: 100%;
            padding: 15px;
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(148, 163, 184, 0.3);
            border-radius: 12px;
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 15px 25px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 10px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(99, 102, 241, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(239, 68, 68, 0.3);
        }

        #map {
            height: 400px;
            width: 100%;
            border-radius: 15px;
            margin: 20px 0;
            border: 1px solid rgba(148, 163, 184, 0.3);
            z-index: 1;
        }

        .results-panel {
            margin-top: 25px;
        }

        .result-card {
            background: rgba(15, 23, 42, 0.7);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary);
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .result-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: white;
        }

        .result-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .badge-success { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .badge-warning { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .badge-danger { background: rgba(239, 68, 68, 0.2); color: #ef4444; }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .info-item {
            background: rgba(30, 41, 59, 0.5);
            padding: 12px;
            border-radius: 10px;
        }

        .info-label {
            font-size: 0.85rem;
            color: #94a3b8;
            margin-bottom: 5px;
        }

        .info-value {
            font-size: 1rem;
            color: white;
            font-weight: 500;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 30px;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(99, 102, 241, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(148, 163, 184, 0.2);
            padding-bottom: 10px;
        }

        .tab {
            padding: 10px 20px;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #94a3b8;
            font-weight: 500;
        }

        .tab.active {
            background: rgba(99, 102, 241, 0.2);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .connection-status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
            padding: 15px;
            background: rgba(15, 23, 42, 0.7);
            border-radius: 12px;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--success);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .history-list {
            max-height: 200px;
            overflow-y: auto;
            margin-top: 15px;
        }

        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 10px;
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }

        .history-item:hover {
            background: rgba(15, 23, 42, 0.7);
        }

        .history-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .history-time {
            font-size: 0.85rem;
            color: #94a3b8;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #64748b;
            font-size: 0.9rem;
            border-top: 1px solid rgba(148, 163, 184, 0.2);
        }

        .disclaimer {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 12px;
            padding: 15px;
            margin: 20px 0;
            color: #fca5a5;
            font-size: 0.85rem;
            line-height: 1.5;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            background: var(--dark);
            border-radius: 12px;
            border-left: 4px solid var(--success);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            transform: translateX(150%);
            transition: transform 0.3s ease;
            z-index: 1000;
            max-width: 350px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-title {
            color: white;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .notification-message {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .accuracy-meter {
            width: 100%;
            height: 8px;
            background: rgba(148, 163, 184, 0.2);
            border-radius: 4px;
            margin: 10px 0;
            overflow: hidden;
        }

        .accuracy-fill {
            height: 100%;
            background: linear-gradient(to right, #ef4444, #f59e0b, #10b981);
            border-radius: 4px;
            width: 75%;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-satellite-dish"></i> CyberTracker Pro</h1>
            <p class="subtitle">Advanced multi-source location intelligence platform with IP, Phone Number, and IMEI tracking capabilities</p>
        </header>

        <div class="disclaimer">
            <i class="fas fa-exclamation-triangle"></i> <strong>Legal Disclaimer:</strong> This is a demonstration tool for educational purposes only. Real IP, phone number, and IMEI tracking require legal authorization and access to official databases. Always comply with privacy laws and regulations.
        </div>

        <div class="main-content">
            <div class="panel">
                <h2>Tracking Methods</h2>
                
                <div class="tabs">
                    <div class="tab active" data-tab="track">Track Target</div>
                    <div class="tab" data-tab="history">Tracking History</div>
                </div>

                <div class="tab-content active" id="trackTab">
                    <div class="tracking-methods">
                        <div class="method-card active" data-method="ip">
                            <div class="method-header">
                                <div class="method-icon ip-icon">
                                    <i class="fas fa-network-wired"></i>
                                </div>
                                <div>
                                    <div class="method-title">IP Address Tracking</div>
                                    <div class="method-desc">Track location by IP address with ISP and network details</div>
                                </div>
                            </div>
                        </div>

                        <div class="method-card" data-method="phone">
                            <div class="method-header">
                                <div class="method-icon phone-icon">
                                    <i class="fas fa-phone-alt"></i>
                                </div>
                                <div>
                                    <div class="method-title">Phone Number Tracking</div>
                                    <div class="method-desc">Locate phone by number with carrier and SIM information</div>
                                </div>
                            </div>
                        </div>

                        <div class="method-card" data-method="imei">
                            <div class="method-header">
                                <div class="method-icon imei-icon">
                                    <i class="fas fa-mobile-alt"></i>
                                </div>
                                <div>
                                    <div class="method-title">IMEI/Device Tracking</div>
                                    <div class="method-desc">Track device by IMEI number with manufacturer details</div>
                                </div>
                            </div>
                        </div>

                        <div class="method-card" data-method="link">
                            <div class="method-header">
                                <div class="method-icon link-icon">
                                    <i class="fas fa-link"></i>
                                </div>
                                <div>
                                    <div class="method-title">Share & Track Link</div>
                                    <div class="method-desc">Generate tracking link for real-time location sharing</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="input-group">
                        <div id="ipInput" class="method-input">
                            <h3>Enter IP Address</h3>
                            <input type="text" id="ipAddress" placeholder="e.g., 192.168.1.1 or 8.8.8.8" value="8.8.8.8">
                        </div>

                        <div id="phoneInput" class="method-input" style="display: none;">
                            <h3>Enter Phone Number</h3>
                            <div style="display: flex; gap: 10px;">
                                <select id="countryCode" style="width: 120px;">
                                    <option value="+1">+1 (US)</option>
                                    <option value="+44">+44 (UK)</option>
                                    <option value="+91">+91 (IN)</option>
                                    <option value="+86">+86 (CN)</option>
                                    <option value="+49">+49 (DE)</option>
                                </select>
                                <input type="text" id="phoneNumber" placeholder="Enter phone number" value="5551234567">
                            </div>
                        </div>

                        <div id="imeiInput" class="method-input" style="display: none;">
                            <h3>Enter IMEI Number</h3>
                            <input type="text" id="imeiNumber" placeholder="15-digit IMEI number" value="490154203237518">
                        </div>

                        <div id="linkInput" class="method-input" style="display: none;">
                            <h3>Generate Tracking Link</h3>
                            <button class="btn btn-primary" id="generateLinkBtn">
                                <i class="fas fa-link"></i> Generate Secure Tracking Link
                            </button>
                            <div id="linkOutput" style="display: none; margin-top: 15px;">
                                <input type="text" id="shareLink" readonly>
                                <button class="btn btn-success" id="copyLinkBtn" style="margin-top: 10px;">
                                    <i class="fas fa-copy"></i> Copy Link
                                </button>
                            </div>
                        </div>

                        <button class="btn btn-primary" id="trackButton">
                            <i class="fas fa-search-location"></i> Start Tracking
                        </button>
                    </div>

                    <div class="connection-status">
                        <div class="status-indicator"></div>
                        <span>System Connected - Ready for Tracking</span>
                    </div>
                </div>

                <div class="tab-content" id="historyTab">
                    <h3>Recent Tracking Sessions</h3>
                    <div class="history-list" id="trackingHistory">
                        <!-- History items will be added here -->
                    </div>
                    <button class="btn btn-danger" id="clearHistoryBtn" style="margin-top: 15px;">
                        <i class="fas fa-trash"></i> Clear History
                    </button>
                </div>
            </div>

            <div class="panel">
                <h2>Tracking Results</h2>
                
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>Tracking target location...</p>
                    <p style="color: #94a3b8; font-size: 0.9rem; margin-top: 10px;">Analyzing data from multiple sources</p>
                </div>

                <div id="results">
                    <div id="map"></div>
                    
                    <div class="results-panel">
                        <div class="result-card">
                            <div class="result-header">
                                <div class="result-title">Location Intelligence</div>
                                <div class="result-badge badge-success">LIVE</div>
                            </div>
                            
                            <div class="info-grid">
                                <div class="info-item">
                                    <div class="info-label">Current Location</div>
                                    <div class="info-value" id="currentLocation">Loading...</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Last Known Location</div>
                                    <div class="info-value" id="lastLocation">Loading...</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Tracking Accuracy</div>
                                    <div class="info-value">
                                        <div class="accuracy-meter">
                                            <div class="accuracy-fill" id="accuracyFill"></div>
                                        </div>
                                        <span id="accuracyValue">75%</span>
                                    </div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Status</div>
                                    <div class="info-value" id="trackingStatus">Active</div>
                                </div>
                            </div>
                        </div>

                        <div class="result-card" id="targetDetails">
                            <div class="result-header">
                                <div class="result-title">Target Details</div>
                                <div class="result-badge badge-warning">ENCRYPTED</div>
                            </div>
                            
                            <div class="info-grid" id="targetInfo">
                                <!-- Target details will be populated here -->
                            </div>
                        </div>

                        <div class="result-card" id="carrierDetails">
                            <div class="result-header">
                                <div class="result-title">Carrier & Network Info</div>
                                <div class="result-badge badge-success">VERIFIED</div>
                            </div>
                            
                            <div class="info-grid" id="carrierInfo">
                                <!-- Carrier info will be populated here -->
                            </div>
                        </div>

                        <div class="result-card" id="deviceDetails">
                            <div class="result-header">
                                <div class="result-title">Device Information</div>
                                <div class="result-badge badge-warning">PARTIAL</div>
                            </div>
                            
                            <div class="info-grid" id="deviceInfo">
                                <!-- Device info will be populated here -->
                            </div>
                        </div>
                    </div>

                    <div class="tracking-controls" style="display: flex; gap: 10px; margin-top: 20px;">
                        <button class="btn btn-success" id="startLiveBtn">
                            <i class="fas fa-play-circle"></i> Start Live Tracking
                        </button>
                        <button class="btn btn-danger" id="stopLiveBtn" style="display: none;">
                            <i class="fas fa-stop-circle"></i> Stop Live Tracking
                        </button>
                        <button class="btn btn-primary" id="exportDataBtn">
                            <i class="fas fa-download"></i> Export Data
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p><i class="fas fa-shield-alt"></i> CyberTracker Pro v2.1 • Advanced Location Intelligence Platform</p>
            <p style="font-size: 0.8rem; margin-top: 5px; color: #475569;">
                For authorized use only. All tracking activities are logged and monitored.
            </p>
        </footer>
    </div>

    <div class="notification" id="notification">
        <div class="notification-title" id="notifTitle">Notification</div>
        <div class="notification-message" id="notifMessage">This is a notification message</div>
    </div>

    <script>
        // Initialize variables
        let map;
        let marker;
        let liveTracking = false;
        let trackingInterval;
        let currentMethod = 'ip';
        let trackingHistory = JSON.parse(localStorage.getItem('trackingHistory')) || [];
        let simulatedTargets = {
            ip: {
                '8.8.8.8': { lat: 37.4056, lng: -122.0775, city: 'Mountain View', country: 'United States', isp: 'Google LLC', accuracy: 85 },
                '1.1.1.1': { lat: -33.8688, lng: 151.2093, city: 'Sydney', country: 'Australia', isp: 'Cloudflare', accuracy: 90 },
                '216.58.214.174': { lat: 37.4192, lng: -122.0574, city: 'Menlo Park', country: 'United States', isp: 'Google', accuracy: 80 }
            },
            phone: {
                '+15551234567': { lat: 40.7128, lng: -74.0060, city: 'New York', country: 'United States', carrier: 'Verizon', accuracy: 70 },
                '+441234567890': { lat: 51.5074, lng: -0.1278, city: 'London', country: 'United Kingdom', carrier: 'Vodafone', accuracy: 75 },
                '+911234567890': { lat: 28.6139, lng: 77.2090, city: 'New Delhi', country: 'India', carrier: 'Airtel', accuracy: 65 }
            },
            imei: {
                '490154203237518': { lat: 37.3349, lng: -122.0090, city: 'Cupertino', country: 'United States', device: 'iPhone 13 Pro', accuracy: 95 },
                '358879070123456': { lat: 37.4232, lng: -122.0871, city: 'Palo Alto', country: 'United States', device: 'Samsung Galaxy S22', accuracy: 90 }
            }
        };

        // Initialize map
        function initMap(lat = 20, lng = 0, zoom = 2) {
            if (!map) {
                map = L.map('map').setView([lat, lng], zoom);
                
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '© OpenStreetMap contributors'
                }).addTo(map);
            }
            
            return map;
        }

        // Show notification
        function showNotification(title, message, type = 'info') {
            const notification = document.getElementById('notification');
            document.getElementById('notifTitle').textContent = title;
            document.getElementById('notifMessage').textContent = message;
            
            // Set color based on type
            const colors = {
                success: '#10b981',
                error: '#ef4444',
                warning: '#f59e0b',
                info: '#6366f1'
            };
            
            notification.style.borderLeftColor = colors[type] || colors.info;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Update location on map
        function updateLocationOnMap(lat, lng, popupText) {
            if (!map) {
                initMap(lat, lng, 13);
            } else {
                map.setView([lat, lng], 13);
            }
            
            // Remove previous marker
            if (marker) {
                map.removeLayer(marker);
            }
            
            // Add new marker
            marker = L.marker([lat, lng]).addTo(map)
                .bindPopup(popupText)
                .openPopup();
            
            // Add accuracy circle
            L.circle([lat, lng], {
                color: '#6366f1',
                fillColor: '#6366f1',
                fillOpacity: 0.1,
                radius: 5000 // 5km radius for demo
            }).addTo(map);
        }

        // Simulate tracking based on method
        function simulateTracking(method, value) {
            const targets = simulatedTargets[method];
            let result;
            
            if (targets && targets[value]) {
                result = targets[value];
            } else {
                // Generate random location if not in simulated data
                const lat = 20 + (Math.random() * 50 - 25);
                const lng = 20 + (Math.random() * 100 - 50);
                const cities = ['New York', 'London', 'Tokyo', 'Paris', 'Dubai', 'Sydney', 'Singapore'];
                const countries = ['United States', 'United Kingdom', 'Japan', 'France', 'UAE', 'Australia', 'Singapore'];
                const isps = ['AT&T', 'Verizon', 'Comcast', 'Google', 'Amazon AWS'];
                const carriers = ['Verizon', 'AT&T', 'T-Mobile', 'Vodafone', 'Airtel', 'Jio'];
                const devices = ['iPhone 14 Pro', 'Samsung Galaxy S23', 'Google Pixel 7', 'OnePlus 11'];
                
                result = {
                    lat: lat,
                    lng: lng,
                    city: cities[Math.floor(Math.random() * cities.length)],
                    country: countries[Math.floor(Math.random() * countries.length)],
                    isp: isps[Math.floor(Math.random() * isps.length)],
                    carrier: carriers[Math.floor(Math.random() * carriers.length)],
                    device: devices[Math.floor(Math.random() * devices.length)],
                    accuracy: Math.floor(Math.random() * 30) + 65
                };
            }
            
            return result;
        }

        // Format phone number
        function formatPhoneNumber(countryCode, number) {
            return countryCode + number;
        }

        // Validate IMEI
        function validateIMEI(imei) {
            // Basic IMEI validation (15 digits)
            return /^\d{15}$/.test(imei);
        }

        // Validate IP address
        function validateIP(ip) {
            const ipv4Regex = /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;
            return ipv4Regex.test(ip);
        }

        // Start tracking
        function startTracking() {
            const loading = document.getElementById('loading');
            const results = document.getElementById('results');
            let value, targetValue;
            
            // Get value based on current method
            switch(currentMethod) {
                case 'ip':
                    value = document.getElementById('ipAddress').value.trim();
                    if (!validateIP(value)) {
                        showNotification('Invalid Input', 'Please enter a valid IP address', 'error');
                        return;
                    }
                    targetValue = value;
                    break;
                    
                case 'phone':
                    const countryCode = document.getElementById('countryCode').value;
                    const phoneNumber = document.getElementById('phoneNumber').value.trim();
                    if (!phoneNumber || phoneNumber.length < 7) {
                        showNotification('Invalid Input', 'Please enter a valid phone number', 'error');
                        return;
                    }
                    value = formatPhoneNumber(countryCode, phoneNumber);
                    targetValue = value;
                    break;
                    
                case 'imei':
                    value = document.getElementById('imeiNumber').value.trim();
                    if (!validateIMEI(value)) {
                        showNotification('Invalid Input', 'Please enter a valid 15-digit IMEI number', 'error');
                        return;
                    }
                    targetValue = value;
                    break;
                    
                case 'link':
                    showNotification('Link Generated', 'Tracking link created successfully', 'success');
                    return;
            }
            
            // Show loading
            loading.classList.add('active');
            results.style.opacity = '0.5';
            
            // Simulate API delay
            setTimeout(() => {
                const result = simulateTracking(currentMethod, targetValue);
                
                // Update map
                const popupText = `
                    <b>Target Location</b><br>
                    ${result.city}, ${result.country}<br>
                    Method: ${currentMethod.toUpperCase()}<br>
                    Value: ${targetValue}
                `;
                
                updateLocationOnMap(result.lat, result.lng, popupText);
                
                // Update results
                document.getElementById('currentLocation').textContent = `${result.city}, ${result.country}`;
                document.getElementById('lastLocation').textContent = `${result.city}, ${result.country}`;
                document.getElementById('accuracyValue').textContent = `${result.accuracy}%`;
                document.getElementById('accuracyFill').style.width = `${result.accuracy}%`;
                
                // Update target details
                updateTargetDetails(currentMethod, targetValue, result);
                
                // Update carrier details
                updateCarrierDetails(currentMethod, result);
                
                // Update device details
                updateDeviceDetails(currentMethod, result);
                
                // Hide loading
                loading.classList.remove('active');
                results.style.opacity = '1';
                
                // Add to history
                addToHistory(currentMethod, targetValue, result);
                
                showNotification('Tracking Successful', `Location found for ${targetValue}`, 'success');
                
            }, 1500);
        }

        // Update target details
        function updateTargetDetails(method, value, result) {
            const targetInfo = document.getElementById('targetInfo');
            let html = '';
            
            switch(method) {
                case 'ip':
                    html = `
                        <div class="info-item">
                            <div class="info-label">IP Address</div>
                            <div class="info-value">${value}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">ISP</div>
                            <div class="info-value">${result.isp}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Network Type</div>
                            <div class="info-value">Commercial/Data Center</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Proxy/VPN</div>
                            <div class="info-value">Not Detected</div>
                        </div>
                    `;
                    break;
                    
                case 'phone':
                    html = `
                        <div class="info-item">
                            <div class="info-label">Phone Number</div>
                            <div class="info-value">${value}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">SIM Status</div>
                            <div class="info-value">Active</div>
                        </div>
                        <div class="info-label">Last Call</div>
                        <div class="info-value">2 hours ago</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Network Mode</div>
                            <div class="info-value">4G/LTE</div>
                        </div>
                    `;
                    break;
                    
                case 'imei':
                    html = `
                        <div class="info-item">
                            <div class="info-label">IMEI Number</div>
                            <div class="info-value">${value}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Device Status</div>
                            <div class="info-value">Online</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Last Active</div>
                            <div class="info-value">Just now</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Battery Level</div>
                            <div class="info-value">78%</div>
                        </div>
                    `;
                    break;
            }
            
            targetInfo.innerHTML = html;
            document.getElementById('targetDetails').style.display = 'block';
        }

        // Update carrier details
        function updateCarrierDetails(method, result) {
            const carrierInfo = document.getElementById('carrierInfo');
            let html = '';
            
            if (method === 'phone' || method === 'imei') {
                html = `
                    <div class="info-item">
                        <div class="info-label">Carrier</div>
                        <div class="info-value">${result.carrier || 'Unknown'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Network</div>
                        <div class="info-value">4G/LTE</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Signal Strength</div>
                        <div class="info-value">Excellent</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Data Usage</div>
                        <div class="info-value">2.4 GB this month</div>
                    </div>
                `;
                document.getElementById('carrierDetails').style.display = 'block';
            } else {
                document.getElementById('carrierDetails').style.display = 'none';
            }
            
            carrierInfo.innerHTML = html;
        }

        // Update device details
        function updateDeviceDetails(method, result) {
            const deviceInfo = document.getElementById('deviceInfo');
            let html = '';
            
            if (method === 'imei' || method === 'phone') {
                html = `
                    <div class="info-item">
                        <div class="info-label">Device Model</div>
                        <div class="info-value">${result.device || 'Smartphone'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">OS Version</div>
                        <div class="info-value">Android 13 / iOS 16</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Manufacturer</div>
                        <div class="info-value">Apple/Samsung/Google</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Last Update</div>
                        <div class="info-value">7 days ago</div>
                    </div>
                `;
                document.getElementById('deviceDetails').style.display = 'block';
            } else {
                document.getElementById('deviceDetails').style.display = 'none';
            }
            
            deviceInfo.innerHTML = html;
        }

        // Add to tracking history
        function addToHistory(method, value, result) {
            const historyItem = {
                id: Date.now(),
                method: method,
                value: value,
                location: `${result.city}, ${result.country}`,
                timestamp: new Date().toISOString(),
                coordinates: { lat: result.lat, lng: result.lng }
            };
            
            trackingHistory.unshift(historyItem);
            if (trackingHistory.length > 10) {
                trackingHistory = trackingHistory.slice(0, 10);
            }
            
            localStorage.setItem('trackingHistory', JSON.stringify(trackingHistory));
            updateHistoryList();
        }

        // Update history list
        function updateHistoryList() {
            const historyList = document.getElementById('trackingHistory');
            historyList.innerHTML = '';
            
            if (trackingHistory.length === 0) {
                historyList.innerHTML = '<div style="text-align: center; padding: 20px; color: #94a3b8;">No tracking history yet</div>';
                return;
            }
            
            trackingHistory.forEach(item => {
                const div = document.createElement('div');
                div.className = 'history-item';
                div.innerHTML = `
                    <div class="history-info">
                        <i class="fas fa-${getMethodIcon(item.method)}" style="color: ${getMethodColor(item.method)};"></i>
                        <div>
                            <div>${item.value}</div>
                            <div class="history-time">${new Date(item.timestamp).toLocaleTimeString()}</div>
                        </div>
                    </div>
                    <div>${item.location}</div>
                `;
                
                div.addEventListener('click', () => {
                    // Recenter map on this location
                    updateLocationOnMap(item.coordinates.lat, item.coordinates.lng, 
                        `<b>History Item</b><br>${item.value}<br>${item.location}`);
                    switchTab('track');
                });
                
                historyList.appendChild(div);
            });
        }

        // Get method icon
        function getMethodIcon(method) {
            const icons = {
                ip: 'network-wired',
                phone: 'phone-alt',
                imei: 'mobile-alt',
                link: 'link'
            };
            return icons[method] || 'search';
        }

        // Get method color
        function getMethodColor(method) {
            const colors = {
                ip: '#6366f1',
                phone: '#10b981',
                imei: '#f59e0b',
                link: '#ec4899'
            };
            return colors[method] || '#94a3b8';
        }

        // Start live tracking
        function startLiveTracking() {
            if (liveTracking) return;
            
            liveTracking = true;
            document.getElementById('startLiveBtn').style.display = 'none';
            document.getElementById('stopLiveBtn').style.display = 'block';
            document.getElementById('trackingStatus').textContent = 'LIVE TRACKING';
            document.getElementById('trackingStatus').style.color = '#10b981';
            
            // Simulate live updates
            trackingInterval = setInterval(() => {
                if (marker) {
                    const latLng = marker.getLatLng();
                    // Simulate small movement
                    const newLat = latLng.lat + (Math.random() - 0.5) * 0.01;
                    const newLng = latLng.lng + (Math.random() - 0.5) * 0.01;
                    
                    updateLocationOnMap(newLat, newLng, 'Live Tracking - Moving...');
                    
                    // Update last location
                    const now = new Date();
                    document.getElementById('lastLocation').textContent = 
                        `Updated: ${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}`;
                }
            }, 3000);
            
            showNotification('Live Tracking Started', 'Target location is being monitored in real-time', 'success');
        }

        // Stop live tracking
        function stopLiveTracking() {
            liveTracking = false;
            document.getElementById('startLiveBtn').style.display = 'block';
            document.getElementById('stopLiveBtn').style.display = 'none';
            document.getElementById('trackingStatus').textContent = 'Active';
            document.getElementById('trackingStatus').style.color = '';
            
            if (trackingInterval) {
                clearInterval(trackingInterval);
            }
            
            showNotification('Live Tracking Stopped', 'Real-time monitoring ended', 'warning');
        }

        // Export data
        function exportData() {
            const data = {
                timestamp: new Date().toISOString(),
                method: currentMethod,
                results: {
                    location: document.getElementById('currentLocation').textContent,
                    accuracy: document.getElementById('accuracyValue').textContent,
                    status: document.getElementById('trackingStatus').textContent
                }
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `tracking-data-${Date.now()}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('Data Exported', 'Tracking data downloaded as JSON', 'success');
        }

        // Generate share link
        function generateShareLink() {
            const linkOutput = document.getElementById('linkOutput');
            const uniqueId = 'track_' + Math.random().toString(36).substring(2, 15);
            const shareLink = `${window.location.origin}${window.location.pathname}?share=${uniqueId}`;
            
            document.getElementById('shareLink').value = shareLink;
            linkOutput.style.display = 'block';
            
            showNotification('Link Generated', 'Share this link for real-time tracking', 'success');
        }

        // Copy link to clipboard
        function copyLink() {
            const shareLink = document.getElementById('shareLink');
            shareLink.select();
            shareLink.setSelectionRange(0, 99999);
            
            navigator.clipboard.writeText(shareLink.value).then(() => {
                showNotification('Copied!', 'Link copied to clipboard', 'success');
            });
        }

        // Switch tabs
        function switchTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
                if (tab.dataset.tab === tabName) {
                    tab.classList.add('active');
                }
            });
            
            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
                if (content.id === tabName + 'Tab') {
                    content.classList.add('active');
                }
            });
        }

        // Switch tracking method
        function switchMethod(method) {
            currentMethod = method;
            
            // Update method cards
            document.querySelectorAll('.method-card').forEach(card => {
                card.classList.remove('active');
                if (card.dataset.method === method) {
                    card.classList.add('active');
                }
            });
            
            // Show/hide input fields
            document.querySelectorAll('.method-input').forEach(input => {
                input.style.display = 'none';
            });
            
            document.getElementById(method + 'Input').style.display = 'block';
        }

        // Clear history
        function clearHistory() {
            if (trackingHistory.length === 0) return;
            
            if (confirm('Clear all tracking history?')) {
                trackingHistory = [];
                localStorage.removeItem('trackingHistory');
                updateHistoryList();
                showNotification('History Cleared', 'All tracking history has been removed', 'warning');
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize map
            initMap();
            
            // Set up event listeners
            document.getElementById('trackButton').addEventListener('click', startTracking);
            document.getElementById('startLiveBtn').addEventListener('click', startLiveTracking);
            document.getElementById('stopLiveBtn').addEventListener('click', stopLiveTracking);
            document.getElementById('exportDataBtn').addEventListener('click', exportData);
            document.getElementById('generateLinkBtn').addEventListener('click', generateShareLink);
            document.getElementById('copyLinkBtn').addEventListener('click', copyLink);
            document.getElementById('clearHistoryBtn').addEventListener('click', clearHistory);
            
            // Method switching
            document.querySelectorAll('.method-card').forEach(card => {
                card.addEventListener('click', () => {
                    switchMethod(card.dataset.method);
                });
            });
            
            // Tab switching
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    switchTab(tab.dataset.tab);
                });
            });
            
            // Enter key support
            document.querySelectorAll('input').forEach(input => {
                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        startTracking();
                    }
                });
            });
            
            // Load history
            updateHistoryList();
            
            // Demo notification
            setTimeout(() => {
                showNotification('System Ready', 'CyberTracker Pro is initialized and ready', 'success');
            }, 1000);
            
            // Check for share parameter
            const urlParams = new URLSearchParams(window.location.search);
            const shareId = urlParams.get('share');
            if (shareId) {
                switchMethod('link');
                showNotification('Share Session', 'You are in tracking share mode', 'info');
            }
        });
    </script>
</body>
</html>
